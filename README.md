## 汽车维修管理系统SQL表

### 账号登录表

| 登录账号 | 登录密码 | 账号类别 | 用户名 | 用户头像 | 用户邮箱 | 用户手机号 | 创建时间 | 更改时间 |
| -------- | -------- | -------- | ------ | -------- | -------- | ---------- | -------- | -------- |
|          |          |          |        |          |          |            |          |          |

### 客户个人信息表

| 客户编号 | 客户名称（实名） | 客户性质（0 个人/1 单位） | 折扣率 | 业务联系人 | 业务联系电话 | 登录账号 |
| -------- | ---------------- | ------------------------- | ------ | ---------- | ------------ | -------- |
|          |                  |                           |        |            |              |          |

### 车辆信息

| 车牌号 | 车型 | 车架号 | 颜色 | 所属客户（编号） | 创建时间 | 修改时间 |
| ------ | ---- | ------ | ---- | ---------------- | -------- | -------- |
|        |      |        |      |                  |          |          |

### 维修厂员工表

| 员工编号 | 登录账号 | 员工姓名（实名） | 员工工种 |
| -------- | -------- | ---------------- | -------- |
|          |          |                  |          |

维修厂员工/客户的个人信息修改都会导致账号登录表的更改时间的重新更新。

员工工种分为：前台/维修类（机修/焊工/漆工）/业务员/经理（管理员）

### 车辆的故障信息表

| 故障单id | 维修类型 | 作业分类 | 结算方式 | 受维修车架号 | 创建时间 | 修改时间 |
| -------- | -------- | -------- | -------- | ------------ | -------- | -------- |
|          |          |          |          |              |          |          |

### 维修委托书

| 委托书id | 客户编号 | 故障单id | 业务员员工编号 | 行驶里程 | 随车物品 | 检查结果 | 维修方案 | 是否洗车 | 维修总费用 | 旧件是否带回 | 创建时间 | 修改时间 | 预计交付时间 | 目前维修状态 |
| -------- | -------- | -------- | -------------- | -------- | -------- | -------- | -------- | -------- | ---------- | ------------ | -------- | -------- | ------------ | ------------ |
|          |          |          |                |          |          |          |          |          |            |              |          |          |              |              |

### 维修委托内容（维修项目）

| 维修项目编号 | 委托书id | 维修项目 | 所需零件 | 零件单价 | 零件总金额 | 创建时间 | 修改时间 |
| ------------ | -------- | -------- | -------- | -------- | ---------- | -------- | -------- |
|              |          |          |          |          |            |          |          |

### 维修派工单

| 维修派工单id | 维修项目编号 | 工时 | 工时单价 | 维修员编号 | 维修员工种 | 是否完成 | 创建时间 | 修改时间 |
| ------------ | ------------ | ---- | -------- | ---------- | ---------- | -------- | -------- | -------- |
|              |              |      |          |            |            |          |          |          |

维修派工单与维修委托任务一一对应

### 任务进行记录及历史记录

| 任务进行id | 维修派工单id | 任务分配者id（是否主动寻找） | 任务目标者id | 任务进行情况 | 创建时间 | 终止时间 |
| ---------- | ------------ | ---------------------------- | ------------ | ------------ | -------- | -------- |
|            |              |                              |              |              |          |          |

为了做的再细化一点，引入分配任务的机制，员工可以查询到自己接手过的任务的历史记录。任务的状态包括未受理，已受理，已拒绝，已完成，中断受理（error）几种状态。

（想做的：经理可以强制更改此时的任务分配）
